!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,"default",(function(){return i}));var o=function e(t,n,a){r(this,e),this.sheetId=t,this.sheetName=n,this.sheetRange=a},i=function e(){r(this,e)};a(i,"ActiveCategories",["Food Pantry","Meal Sites","School Meal Pickup"]),a(i,"GeocodingServiceUri","https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),a(i,"MapBoxToken","pk.eyJ1Ijoiam9uamFuZWxsZSIsImEiOiJjazhxbXg0YmswNW5kM2RvNGNjb2hiN2poIn0.LiFKVlPQe_vqyqjjIw0DIw"),a(i,"PantryServiceBaseUri","https://sheets-api.azurewebsites.net/api/ReadSheet.php"),a(i,"PantryDataQueryConfig",new o("1wwdNhR7lXu-LnIPb0wl30Vydx0ql_Kp_MGBy5frsVfg","Agency Data","A:M")),a(i,"SchoolPickupQueryConfig",new o("135l8GGHQ2DSqvTI28_Pgu3HjA2u8fZNqsbPX3_xWbbk","School Pickup","A:S")),a(i,"CityOptionsQueryConfig",new o("135l8GGHQ2DSqvTI28_Pgu3HjA2u8fZNqsbPX3_xWbbk","FormOptions","A:A"))},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getPath",value:function(e){return"map-markers/".concat(e)}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();r(o,"AccessDenied","accessdenied.png"),r(o,"Aed","aed-2.png"),r(o,"Airport","airport.png"),r(o,"Ambulance","ambulance.png"),r(o,"Apple","apple.png"),r(o,"View","beautifulview.png"),r(o,"Binoculars","binoculars.png"),r(o,"Bread","bread.png"),r(o,"Burger","burger.png"),r(o,"Bus","bus.png"),r(o,"Bus2","bustour.png"),r(o,"Car","car.png"),r(o,"Caution","caution.png"),r(o,"Chart","chart-2.png"),r(o,"Cinema","cinema.png"),r(o,"Coffee","coffee.png"),r(o,"Computer","computers.png"),r(o,"Contract","contact.png"),r(o,"Cycling","cycling.png"),r(o,"Dancing","dancinghall.png"),r(o,"Wheelchair","disability.png"),r(o,"Drink","drink.png"),r(o,"Restaurant","restaurant.png"),r(o,"Farmstand","farmstand.png"),r(o,"Motel","motel-2.png"),r(o,"Home","home-2.png"),r(o,"Star","star-3.png"),r(o,"DayCare","daycare.png"),r(o,"FastFood","fastfood.png"),r(o,"Farm","farm-2.png"),r(o,"Grocery","grocery.png"),r(o,"Utensils","eating-utensils.png")},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(1);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,i,c,u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n===e.ResourceType.Pantry?this._pantryMapping(t):n===e.ResourceType.School&&this._schoolPickupMapping(t),this._setIcon()}var t,n,o;return t=e,(n=[{key:"_pantryMapping",value:function(e){this.Id=this._generateId(),this.Category=e.Category,this.Name=e.Name,this.County=e.County,this.Town=e.Town,this.Address=e.Address,this.Phone=e.Phone,this.Email=null,this.LastUpdated=e.DateUpdated,this.HoursOfOperation=e.HoursOfOperation,this.OperationalNotes=e.OperationalNotes,this.WebLink=e.WebLink,this.WebLink2=e.AdditionalWebLink,this.Latitude=parseFloat(e.Latitude),this.Longitude=parseFloat(e.Longitude),this.SpecialHoursOfOperation=null,this.SpecialNotes=null,this.IsActive=!0}},{key:"_schoolPickupMapping",value:function(e){this.Id=this._generateId(),this.Category=e.Category,this.Name=e.ProviderName,this.County=e.County,this.Town=null,this.Address=e.Address,this.Phone=e.Phone,this.Email=e.Email,this.LastUpdated=null,this.HoursOfOperation=e.Hours,this.OperationalNotes=e.OperationalNotes,this.WebLink=e.Website1,this.WebLink2=e.Website2,this.Latitude=parseFloat(e.Latitude),this.Longitude=parseFloat(e.Longitude),this.SpecialHoursOfOperation=null,this.SpecialNotes=null,this.IsActive=!0}},{key:"_setIcon",value:function(){"Meal Sites"==this.Category?this.IconUrl=a.default.getPath(a.default.Restaurant):"Food Pantry"==this.Category?this.IconUrl=a.default.getPath(a.default.Grocery):"School Meal Pickup"==this.Category?this.IconUrl=a.default.getPath(a.default.Utensils):this.IconUrl=a.default.getPath(a.default.Star)}},{key:"_generateId",value:function(){return"xxxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)}))}}])&&r(t.prototype,n),o&&r(t,o),e}();c={Pantry:0,School:1},(i="ResourceType")in(o=u)?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(4),r=n(0);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.foodResourceUrl="".concat(r.default.PantryServiceBaseUri,"?sheetId=").concat(r.default.PantryDataQueryConfig.sheetId,"&sheetName=").concat(r.default.PantryDataQueryConfig.sheetName,"&sheetRange=").concat(r.default.PantryDataQueryConfig.sheetRange),this.schoolPickupUrl="".concat(r.default.PantryServiceBaseUri,"?sheetId=").concat(r.default.SchoolPickupQueryConfig.sheetId,"&sheetName=").concat(r.default.SchoolPickupQueryConfig.sheetName,"&sheetRange=").concat(r.default.SchoolPickupQueryConfig.sheetRange),this.cityOptionsUrl="".concat(r.default.PantryServiceBaseUri,"?sheetId=").concat(r.default.CityOptionsQueryConfig.sheetId,"&sheetName=").concat(r.default.CityOptionsQueryConfig.sheetName,"&sheetRange=").concat(r.default.CityOptionsQueryConfig.sheetRange)}var t,n,i;return t=e,(n=[{key:"getCities",value:function(){var e=$.Deferred();return $.get(this.cityOptionsUrl).done((function(t,n){var a=JSON.parse(t).map((function(e){return e.City}));e.resolve(a)})).fail((function(t){console.error(t),e.reject()})),e.promise()}},{key:"getPantries",value:function(){var e=$.Deferred();return $.get(this.foodResourceUrl).done((function(t,n){var r=JSON.parse(t).map((function(e){return new a.default(e,a.default.ResourceType.Pantry)}));e.resolve(r)})).fail((function(t){console.error(t),e.reject()})),e.promise()}},{key:"getSchoolPickups",value:function(){var e=$.Deferred();return $.get(this.schoolPickupUrl).done((function(t,n){var r=JSON.parse(t).map((function(e){return new a.default(e,a.default.ResourceType.School)}));e.resolve(r)})).fail((function(t){console.error(t),e.reject()})),e.promise()}}])&&o(t.prototype,n),i&&o(t,i),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(6),r=n(0);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._townZipSelectId="town-zip-input",this._categorySelectId="category-select",this._setCategorySelectOptions(r.default.ActiveCategories),this._setMobileNavHandler(),this._setFormSubmitHandler(),this._dataService=new a.default,this._setSelect2Inputs(),$("#radius-select").val(10)}var t,n,i;return t=e,(n=[{key:"_setFormSubmitHandler",value:function(){var e=this;$("#search-form").submit((function(t){t.preventDefault(),window.location.href="map.html".concat(e._buildQueryFilter())}))}},{key:"_setMobileNavHandler",value:function(){var e=$(".navbar-collapse");e.on("click","a:not([data-toggle])",null,(function(){return e.collapse("hide")})),$("#page-content").click((function(){return e.collapse("hide")}))}},{key:"_setCategorySelectOptions",value:function(e){var t=this;$("#".concat(this._categorySelectId)).empty(),e.forEach((function(e){return $("#".concat(t._categorySelectId)).append('<option value="'.concat(e,'">').concat(e,"</option>"))})),$("#".concat(this._categorySelectId)).select2({placeholder:"Select categories",minimumResultsForSearch:-1}),$("#".concat(this._categorySelectId)).on("select2:opening select2:closing",(function(e){$("#"+e.target.id).parent().find(".select2-search__field").prop("disabled",!0)})),$("#".concat(this._categorySelectId)).val(e),$("#".concat(this._categorySelectId)).trigger("change")}},{key:"_buildQueryFilter",value:function(){var e=$("#".concat(this._categorySelectId)).val(),t=$("#".concat(this._townZipSelectId)).val(),n=$("#radius-select").val();return"?"+e.map((function(e){return"category=".concat(e)})).join("&")+"&radius=".concat(n,"&zipCode=").concat(t)}},{key:"_setSelect2Inputs",value:function(){var e=this;$("#".concat(this._townZipSelectId)).select2({placeholder:"Enter town or zip code",allowClear:!0,tags:!0,dropdownPosition:"below"}),this._dataService.getCities().then((function(t){$("#".concat(e._townZipSelectId)).empty(),$("#".concat(e._townZipSelectId)).append("<option selected value=''></option>"),t.forEach((function(t){return $("#".concat(e._townZipSelectId)).append('<option value="'.concat(t,'">').concat(t,"</option>"))}))}))}}])&&o(t.prototype,n),i&&o(t,i),e}()},,,function(e,t,n){"use strict";n.r(t);var a=n(7);$((function(){return new a.default}))}]);